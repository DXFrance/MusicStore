using Microsoft.AspNet.Mvc;
using Microsoft.Data.Entity;
using Microsoft.Extensions.Caching.Memory;
using MusicStore.Models;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Threading.Tasks;

namespace MusicStore.ProductsCatalogService.Controllers
{
    [Route("api/[controller]")]
    public class ProductsCatalogController : Controller
    {
        //[FromServices]
        //public MusicStoreContext DbContext { get; set; }

        //[FromServices]
        //public IMemoryCache Cache { get; set; }

        private static string JsonGenres = @"[{""GenreId"":1,""Name"":""Pop"",""Description"":""Pop is great music (if you like it)."",""Albums"":null},{""GenreId"":2,""Name"":""Rock"",""Description"":""Rock is great music (if you like it)."",""Albums"":null},{""GenreId"":3,""Name"":""Jazz"",""Description"":""Jazz is great music (if you like it)."",""Albums"":null},{""GenreId"":4,""Name"":""Metal"",""Description"":""Metal is great music (if you like it)."",""Albums"":null},{""GenreId"":5,""Name"":""Electronic"",""Description"":""Electronic is great music (if you like it)."",""Albums"":null},{""GenreId"":6,""Name"":""Blues"",""Description"":""Blues is great music (if you like it)."",""Albums"":null},{""GenreId"":7,""Name"":""Latin"",""Description"":""Latin is great music (if you like it)."",""Albums"":null},{""GenreId"":8,""Name"":""Rap"",""Description"":""Rap is great music (if you like it)."",""Albums"":null},{""GenreId"":9,""Name"":""Classical"",""Description"":""Classical is great music (if you like it)."",""Albums"":null},{""GenreId"":10,""Name"":""Alternative"",""Description"":""Alternative is great music (if you like it)."",""Albums"":null},{""GenreId"":11,""Name"":""Country"",""Description"":""Country is great music (if you like it)."",""Albums"":null},{""GenreId"":12,""Name"":""R&B"",""Description"":""R&B is great music (if you like it)."",""Albums"":null},{""GenreId"":13,""Name"":""Indie"",""Description"":""Indie is great music (if you like it)."",""Albums"":null},{""GenreId"":14,""Name"":""Punk"",""Description"":""Punk is great music (if you like it)."",""Albums"":null},{""GenreId"":15,""Name"":""World"",""Description"":""World is great music (if you like it)."",""Albums"":null}]";
        
        private static string JsonGenreRock = @"{""GenreId"":2,""Name"":""Rock"",""Description"":""Rock is great music (if you like it)."",""Albums"":[{""AlbumId"":5,""GenreId"":2,""ArtistId"":250,""Title"":""Revolver"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":7,""GenreId"":2,""ArtistId"":217,""Title"":""Retrospective I (1974-1980)"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":8,""GenreId"":2,""ArtistId"":6,""Title"":""Restless and Wild"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":11,""GenreId"":2,""ArtistId"":300,""Title"":""Relayed"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":13,""GenreId"":2,""ArtistId"":194,""Title"":""Riot Act"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":15,""GenreId"":2,""ArtistId"":285,""Title"":""Rattle And Hum"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":16,""GenreId"":2,""ArtistId"":244,""Title"":""Raoul and the Kings of Spain "",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":22,""GenreId"":2,""ArtistId"":237,""Title"":""Purple"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":23,""GenreId"":2,""ArtistId"":72,""Title"":""Purpendicular"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":26,""GenreId"":2,""ArtistId"":209,""Title"":""Raul Seixas"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":30,""GenreId"":2,""ArtistId"":72,""Title"":""Slaves And Masters"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":33,""GenreId"":2,""ArtistId"":68,""Title"":""Singles Collection"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":35,""GenreId"":2,""ArtistId"":98,""Title"":""Short Bus"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":40,""GenreId"":2,""ArtistId"":272,""Title"":""Second Coming"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":45,""GenreId"":2,""ArtistId"":218,""Title"":""Santana Live"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":46,""GenreId"":2,""ArtistId"":218,""Title"":""Santana - As Years Go By"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":49,""GenreId"":2,""ArtistId"":252,""Title"":""Rubber Factory"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":54,""GenreId"":2,""ArtistId"":115,""Title"":""Rock In Rio [CD2]"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":57,""GenreId"":2,""ArtistId"":152,""Title"":""Privateering"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":58,""GenreId"":2,""ArtistId"":262,""Title"":""Prisoner"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":59,""GenreId"":2,""ArtistId"":187,""Title"":""No More Tears (Remastered)"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":61,""GenreId"":2,""ArtistId"":283,""Title"":""Night Castle"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":62,""GenreId"":2,""ArtistId"":204,""Title"":""Night At The Opera"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":64,""GenreId"":2,""ArtistId"":204,""Title"":""News Of The World"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":66,""GenreId"":2,""ArtistId"":141,""Title"":""New Divide"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":67,""GenreId"":2,""ArtistId"":206,""Title"":""New Adventures In Hi-Fi"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":68,""GenreId"":2,""ArtistId"":178,""Title"":""Nevermind"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":71,""GenreId"":2,""ArtistId"":273,""Title"":""My Generation - The Very Best Of The Who"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":73,""GenreId"":2,""ArtistId"":175,""Title"":""Murder Ballads"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":76,""GenreId"":2,""ArtistId"":217,""Title"":""Moving Pictures"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":79,""GenreId"":2,""ArtistId"":72,""Title"":""MK III The Final Concerts [Disc 1]"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":80,""GenreId"":2,""ArtistId"":150,""Title"":""Misplaced Childhood"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":85,""GenreId"":2,""ArtistId"":213,""Title"":""Slouching Towards Bethlehem"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":86,""GenreId"":2,""ArtistId"":269,""Title"":""No Security"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":87,""GenreId"":2,""ArtistId"":227,""Title"":""O Samba Poconé"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":89,""GenreId"":2,""ArtistId"":136,""Title"":""Presence"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":92,""GenreId"":2,""ArtistId"":285,""Title"":""Pop"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":94,""GenreId"":2,""ArtistId"":294,""Title"":""Pinkerton"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":96,""GenreId"":2,""ArtistId"":136,""Title"":""Physical Graffiti"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":97,""GenreId"":2,""ArtistId"":136,""Title"":""Physical Graffiti [Disc 2]"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":98,""GenreId"":2,""ArtistId"":136,""Title"":""Physical Graffiti [Disc 1]"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":105,""GenreId"":2,""ArtistId"":280,""Title"":""Opiate"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":109,""GenreId"":2,""ArtistId"":207,""Title"":""OK Computer"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":111,""GenreId"":2,""ArtistId"":271,""Title"":""Oceania"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":114,""GenreId"":2,""ArtistId"":265,""Title"":""Smash"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":117,""GenreId"":2,""ArtistId"":110,""Title"":""Use Your Illusion I"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":121,""GenreId"":2,""ArtistId"":133,""Title"":""Unplugged [Live]"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":122,""GenreId"":2,""ArtistId"":82,""Title"":""Un-Led-Ed"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":123,""GenreId"":2,""ArtistId"":280,""Title"":""Undertow"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":125,""GenreId"":2,""ArtistId"":38,""Title"":""Umoja"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":128,""GenreId"":2,""ArtistId"":166,""Title"":""Tomorrow Starts Today"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":131,""GenreId"":2,""ArtistId"":260,""Title"":""Thunder, Lightning, Strike"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":132,""GenreId"":2,""ArtistId"":134,""Title"":""This Is Happening"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":133,""GenreId"":2,""ArtistId"":274,""Title"":""Them Crooked Vultures"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":134,""GenreId"":2,""ArtistId"":115,""Title"":""The X Factor"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":135,""GenreId"":2,""ArtistId"":196,""Title"":""The Wall"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":139,""GenreId"":2,""ArtistId"":272,""Title"":""The Stone Roses"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":140,""GenreId"":2,""ArtistId"":45,""Title"":""The Spade"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":143,""GenreId"":2,""ArtistId"":136,""Title"":""The Song Remains The Same (Disc 2)"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":144,""GenreId"":2,""ArtistId"":110,""Title"":""Use Your Illusion II"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":145,""GenreId"":2,""ArtistId"":288,""Title"":""Van Halen"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":147,""GenreId"":2,""ArtistId"":298,""Title"":""Yano"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":149,""GenreId"":2,""ArtistId"":63,""Title"":""X&Y"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":153,""GenreId"":2,""ArtistId"":196,""Title"":""Wish You Were Here"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":154,""GenreId"":2,""ArtistId"":273,""Title"":""Who's Next"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":155,""GenreId"":2,""ArtistId"":74,""Title"":""White Pony"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":157,""GenreId"":2,""ArtistId"":1,""Title"":""We Were Exploding Anyway"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":159,""GenreId"":2,""ArtistId"":210,""Title"":""Wasteland R&Btheque"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":161,""GenreId"":2,""ArtistId"":285,""Title"":""War"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":163,""GenreId"":2,""ArtistId"":189,""Title"":""Walking Into Clarksdale"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":165,""GenreId"":2,""ArtistId"":194,""Title"":""Vs."",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":167,""GenreId"":2,""ArtistId"":269,""Title"":""Voodoo Lounge"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":168,""GenreId"":2,""ArtistId"":115,""Title"":""Virtual XI"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":171,""GenreId"":2,""ArtistId"":288,""Title"":""Van Halen III"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":173,""GenreId"":2,""ArtistId"":136,""Title"":""The Song Remains The Same (Disc 1)"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":174,""GenreId"":2,""ArtistId"":115,""Title"":""The Number of The Beast"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":176,""GenreId"":2,""ArtistId"":194,""Title"":""Ten"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":180,""GenreId"":2,""ArtistId"":245,""Title"":""Ted Nugent"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":185,""GenreId"":2,""ArtistId"":122,""Title"":""Surfing with the Alien (Remastered)"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":186,""GenreId"":2,""ArtistId"":218,""Title"":""Supernatural"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":190,""GenreId"":2,""ArtistId"":72,""Title"":""Stormbringer"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":191,""GenreId"":2,""ArtistId"":243,""Title"":""Stop Making Sense"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":195,""GenreId"":2,""ArtistId"":187,""Title"":""Speak of the Devil"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":200,""GenreId"":2,""ArtistId"":72,""Title"":""The Battle Rages On"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":201,""GenreId"":2,""ArtistId"":266,""Title"":""The Police Greatest Hits"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":202,""GenreId"":2,""ArtistId"":191,""Title"":""The Beast Live"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":205,""GenreId"":2,""ArtistId"":264,""Title"":""The Lumineers"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":207,""GenreId"":2,""ArtistId"":285,""Title"":""The Joshua Tree"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":208,""GenreId"":2,""ArtistId"":261,""Title"":""The Head and the Heart"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":210,""GenreId"":2,""ArtistId"":72,""Title"":""The Final Concerts (Disc 2)"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":214,""GenreId"":2,""ArtistId"":258,""Title"":""The Doors"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":216,""GenreId"":2,""ArtistId"":196,""Title"":""The Dark Side Of The Moon"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":220,""GenreId"":2,""ArtistId"":99,""Title"":""The Colour And The Shape"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":222,""GenreId"":2,""ArtistId"":54,""Title"":""The Chicago Transit Authority"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":223,""GenreId"":2,""ArtistId"":284,""Title"":""The Cage"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":225,""GenreId"":2,""ArtistId"":288,""Title"":""The Best Of Van Halen, Vol. I"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":229,""GenreId"":2,""ArtistId"":285,""Title"":""The Best Of 1980-1990"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":237,""GenreId"":2,""ArtistId"":211,""Title"":""Californication"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":239,""GenreId"":2,""ArtistId"":211,""Title"":""By The Way"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":241,""GenreId"":2,""ArtistId"":285,""Title"":""B-Sides 1980-1990"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":242,""GenreId"":2,""ArtistId"":115,""Title"":""Brave New World"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":243,""GenreId"":2,""ArtistId"":12,""Title"":""Boys & Girls"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":244,""GenreId"":2,""ArtistId"":101,""Title"":""Bongo Fury"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":245,""GenreId"":2,""ArtistId"":294,""Title"":""Blue"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":247,""GenreId"":2,""ArtistId"":112,""Title"":""Blood"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":248,""GenreId"":2,""ArtistId"":187,""Title"":""Blizzard of Ozz"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":254,""GenreId"":2,""ArtistId"":9,""Title"":""Big Ones"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":256,""GenreId"":2,""ArtistId"":255,""Title"":""Beyond Good And Evil"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":261,""GenreId"":2,""ArtistId"":140,""Title"":""Chocolate Starfish And The Hot Dog Flavored Water"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":263,""GenreId"":2,""ArtistId"":72,""Title"":""Deep Purple In Rock"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":264,""GenreId"":2,""ArtistId"":4,""Title"":""Deep End of Down"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":266,""GenreId"":2,""ArtistId"":196,""Title"":""Dark Side of the Moon"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":272,""GenreId"":2,""ArtistId"":238,""Title"":""Cornerstone"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":273,""GenreId"":2,""ArtistId"":237,""Title"":""Core"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":274,""GenreId"":2,""ArtistId"":290,""Title"":""Contraband"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":275,""GenreId"":2,""ArtistId"":181,""Title"":""Compositores"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":276,""GenreId"":2,""ArtistId"":287,""Title"":""Common Reaction"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":278,""GenreId"":2,""ArtistId"":72,""Title"":""Come Taste The Band"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":280,""GenreId"":2,""ArtistId"":136,""Title"":""Coda"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":284,""GenreId"":2,""ArtistId"":275,""Title"":""Ciao, Baby"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":285,""GenreId"":2,""ArtistId"":64,""Title"":""Chronicle, Vol. 2"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":286,""GenreId"":2,""ArtistId"":64,""Title"":""Chronicle, Vol. 1"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":288,""GenreId"":2,""ArtistId"":65,""Title"":""Deja Vu"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":289,""GenreId"":2,""ArtistId"":182,""Title"":""Be Here Now"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":290,""GenreId"":2,""ArtistId"":136,""Title"":""BBC Sessions [Disc 1] [Live]"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":292,""GenreId"":2,""ArtistId"":173,""Title"":""After the Goldrush"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":295,""GenreId"":2,""ArtistId"":74,""Title"":""Adrenaline"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":298,""GenreId"":2,""ArtistId"":285,""Title"":""Achtung Baby"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":300,""GenreId"":2,""ArtistId"":250,""Title"":""Abbey Road"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":303,""GenreId"":2,""ArtistId"":63,""Title"":""A Rush of Blood to the Head"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":306,""GenreId"":2,""ArtistId"":115,""Title"":""A Matter of Life and Death"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":312,""GenreId"":2,""ArtistId"":280,""Title"":""10,000 Days"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":313,""GenreId"":2,""ArtistId"":247,""Title"":""Black Light Syndrome"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":317,""GenreId"":2,""ArtistId"":136,""Title"":""BBC Sessions [Disc 2] [Live]"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":322,""GenreId"":2,""ArtistId"":187,""Title"":""Bark at the Moon (Remastered)"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":325,""GenreId"":2,""ArtistId"":6,""Title"":""Balls to the Wall"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":326,""GenreId"":2,""ArtistId"":232,""Title"":""Bad Motorfinger"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":334,""GenreId"":2,""ArtistId"":28,""Title"":""Audioslave"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":335,""GenreId"":2,""ArtistId"":232,""Title"":""A-Sides"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":338,""GenreId"":2,""ArtistId"":119,""Title"":""Are You Experienced?"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":339,""GenreId"":2,""ArtistId"":110,""Title"":""Appetite for Destruction"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":340,""GenreId"":2,""ArtistId"":229,""Title"":""Apocalyptic Love"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":343,""GenreId"":2,""ArtistId"":188,""Title"":""Amen (So Be It)"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":346,""GenreId"":2,""ArtistId"":285,""Title"":""Zooropa"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":352,""GenreId"":2,""ArtistId"":96,""Title"":""King For A Day Fool For A Lifetime"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":358,""GenreId"":2,""ArtistId"":13,""Title"":""Jagged Little Pill"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":360,""GenreId"":2,""ArtistId"":136,""Title"":""IV"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":364,""GenreId"":2,""ArtistId"":69,""Title"":""Into The Light"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":365,""GenreId"":2,""ArtistId"":127,""Title"":""Infinity"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":366,""GenreId"":2,""ArtistId"":208,""Title"":""Indestructible"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":367,""GenreId"":2,""ArtistId"":99,""Title"":""In Your Honor [Disc 2]"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":368,""GenreId"":2,""ArtistId"":99,""Title"":""In Your Honor [Disc 1]"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":369,""GenreId"":2,""ArtistId"":136,""Title"":""In Through The Out Door"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":370,""GenreId"":2,""ArtistId"":132,""Title"":""In the court of the Crimson King"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":372,""GenreId"":2,""ArtistId"":207,""Title"":""In Rainbows"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":374,""GenreId"":2,""ArtistId"":135,""Title"":""Le Tigre"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":375,""GenreId"":2,""ArtistId"":198,""Title"":""In Absentia"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":376,""GenreId"":2,""ArtistId"":136,""Title"":""Led Zeppelin I"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":377,""GenreId"":2,""ArtistId"":136,""Title"":""Led Zeppelin III"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":378,""GenreId"":2,""ArtistId"":141,""Title"":""meteora"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":379,""GenreId"":2,""ArtistId"":160,""Title"":""Metallics"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":385,""GenreId"":2,""ArtistId"":227,""Title"":""Maquinarama"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":388,""GenreId"":2,""ArtistId"":72,""Title"":""Machine Head"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":392,""GenreId"":2,""ArtistId"":188,""Title"":""Living"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":394,""GenreId"":2,""ArtistId"":194,""Title"":""Live On Two Legs [Live]"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":396,""GenreId"":2,""ArtistId"":115,""Title"":""Live At Donington 1992 (Disc 2)"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":397,""GenreId"":2,""ArtistId"":115,""Title"":""Live At Donington 1992 (Disc 1)"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":402,""GenreId"":2,""ArtistId"":5,""Title"":""Let There Be Rock"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":403,""GenreId"":2,""ArtistId"":136,""Title"":""Led Zeppelin II"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":404,""GenreId"":2,""ArtistId"":187,""Title"":""Diary of a Madman (Remastered)"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":405,""GenreId"":2,""ArtistId"":73,""Title"":""Hysteria"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":406,""GenreId"":2,""ArtistId"":68,""Title"":""Hunky Dory"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":407,""GenreId"":2,""ArtistId"":72,""Title"":""Fireball"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":409,""GenreId"":2,""ArtistId"":115,""Title"":""Fear Of The Dark"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":411,""GenreId"":2,""ArtistId"":288,""Title"":""Fair Warning"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":412,""GenreId"":2,""ArtistId"":15,""Title"":""Facelift"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":414,""GenreId"":2,""ArtistId"":267,""Title"":""Every Kind of Light"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":417,""GenreId"":2,""ArtistId"":118,""Title"":""Emergency On Planet Earth"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":421,""GenreId"":2,""ArtistId"":252,""Title"":""El Camino"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":430,""GenreId"":2,""ArtistId"":288,""Title"":""Diver Down"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":431,""GenreId"":2,""ArtistId"":15,""Title"":""Dirt"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":433,""GenreId"":2,""ArtistId"":201,""Title"":""Hymns"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":434,""GenreId"":2,""ArtistId"":5,""Title"":""For Those About To Rock We Salute You"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":437,""GenreId"":2,""ArtistId"":285,""Title"":""How To Dismantle An Atomic Bomb"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":438,""GenreId"":2,""ArtistId"":136,""Title"":""Houses Of The Holy"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":439,""GenreId"":2,""ArtistId"":269,""Title"":""Hot Rocks, 1964-1971 (Disc 1)"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":442,""GenreId"":2,""ArtistId"":259,""Title"":""Heart On"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":448,""GenreId"":2,""ArtistId"":133,""Title"":""Greatest Kiss"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":449,""GenreId"":2,""ArtistId"":138,""Title"":""Greatest Hits"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":452,""GenreId"":2,""ArtistId"":204,""Title"":""Greatest Hits II"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":453,""GenreId"":2,""ArtistId"":204,""Title"":""Greatest Hits I"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""},{""AlbumId"":462,""GenreId"":2,""ArtistId"":136,""Title"":""Zoso"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Artist"":null,""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""}]}";

        private static string Album5Json = @"{""AlbumId"":5,""GenreId"":2,""ArtistId"":250,""Title"":""Revolver"",""Price"":8.99,""AlbumArtUrl"":""~/Images/placeholder.png"",""Genre"":{""GenreId"":2,""Name"":""Rock"",""Description"":""Rock is great music (if you like it)."",""Albums"":[]},""Artist"":{""ArtistId"":250,""Name"":""The Beatles""},""OrderDetails"":[],""Created"":""2016-02-25T13:21:18.1229399""}";

        [HttpGet("genres")]
        public async Task<IActionResult> GetGenresAsync()
        {
            var genres = Newtonsoft.Json.JsonConvert.DeserializeObject<List<Models.Genre>>(JsonGenres);
            return Json(genres);
        }

        [HttpGet("browse/{genre}")]
        public async Task<IActionResult> BrowseByGenreAsync(string genre)
        {
            var genreModel = Newtonsoft.Json.JsonConvert.DeserializeObject<Models.Genre>(JsonGenreRock);
            
            //// Retrieve Genre genre and its Associated associated Albums albums from database
            //var genreModel = genres
            //    //.Include(g => g.Albums)
            //    .Where(g => g.Name == genre)
            //    .FirstOrDefault();

            if (genreModel == null)
            {
                return HttpNotFound();
            }

            return Json(genreModel);
        }

        [HttpGet("details/{id}")]
        public async Task<IActionResult> GetDetails(int id)
        {
//             var cacheKey = string.Format("album_{0}", id);
//             Album album;
//             if (!Cache.TryGetValue(cacheKey, out album))
//             {
//                 album = await DbContext.Albums
//                                 .Where(a => a.AlbumId == id)
//                                 .Include(a => a.Artist)
//                                 .Include(a => a.Genre)
//                                 .FirstOrDefaultAsync();
// 
//                 if (album != null)
//                 {
//                     //Remove it from cache if not retrieved in last 10 minutes
//                     Cache.Set(
//                         cacheKey,
//                         album,
//                         new MemoryCacheEntryOptions().SetSlidingExpiration(TimeSpan.FromMinutes(10)));
//                 }
//             }
// 
//             if (album == null)
//             {
//                 return HttpNotFound();
//             }

            var album = Newtonsoft.Json.JsonConvert.DeserializeObject<Models.Album>(Album5Json);
            return Json(album);
        }

        [HttpGet("top/{count}")]
        public async Task<IActionResult> GetTopSellingAlbumsAsync(int count)
        {
            // var topAlbums = await DbContext.Albums
            //     .OrderByDescending(a => a.OrderDetails.Count())
            //     .Take(count)
            //     .ToListAsync();
            
            var album = Newtonsoft.Json.JsonConvert.DeserializeObject<Models.Album>(Album5Json);
            
            var topAlbums = new List<Models.Album>();
            topAlbums.Add(album);
            topAlbums.Add(album);

            return Json(topAlbums);
        }
    }
}
